<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{{ page.title | default: site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description }}">
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
    <script src="{{ "/assets/js/allure-split-mode.js" | relative_url }}" defer></script>
  </head>
  <body>
  <body class="{% if page.wide_mode %}wide-mode{% endif %}">
    <div class="wrapper">
      <header>
        <h1><a href="{{ site.github.repository_url }}">{{ site.title | default: "Project Quality Report" }}</a></h1>
        
        <nav>
          <ul class="nav-menu">
            {% assign home_url = '/' | relative_url %}
            <li {% if page.url == home_url or page.url == '/index.html' %}class="active"{% endif %}>
              <a href="{{ home_url }}">
                <img src="{{ '/assets/img/allure.svg' | relative_url }}" alt="Allure Icon" class="nav-icon">Allure Report
              </a>
            </li>

            {% assign swiftlint_url = '/reports/swiftlint/' | relative_url %}
            <li {% if page.url == swiftlint_url %}class="active"{% endif %}>
              <a href="{{ swiftlint_url }}">
                <img src="{{ '/assets/img/swiftlint.png' | relative_url }}" alt="SwiftLint Icon" class="nav-icon">SwiftLint
              </a>
            </li>

            {% assign swiftformat_url = '/reports/swiftformat/' | relative_url %}
            <li {% if page.url == swiftformat_url %}class="active"{% endif %}>
              <a href="{{ swiftformat_url }}">
                <img src="{{ '/assets/img/swiftformat.png' | relative_url }}" alt="SwiftFormat Icon" class="nav-icon">SwiftFormat
              </a>
            </li>

            {% assign coverage_url = '/reports/coverage/' | relative_url %}
            <li {% if page.url == coverage_url %}class="active"{% endif %}><a href="{{ coverage_url }}"><img src="{{ '/assets/img/xcode.png' | relative_url }}" alt="Coverage Icon" class="nav-icon">Coverage</a></li>
          </ul>
        </nav>
        <div class="dashboard-container">
          <fieldset class="dashboard-block">
            <legend>Builds:</legend>
            <div class="scrollable-list">
              <ul>
                <li><span class="status-icon success">✔</span><a href="#">555</a><span class="build-date">01-01-2024 14:30</span></li>
                <li><span class="status-icon failed">✖</span><a href="#">554</a><span class="build-date">01-01-2024 12:15</span></li>
                <li><span class="status-icon cancelled">●</span><a href="#">553</a><span class="build-date">31-12-2023 18:00</span></li>
                <li><span class="status-icon success">✔</span><a href="#">552</a><span class="build-date">31-12-2023 15:20</span></li>
                <li><span class="status-icon success">✔</span><a href="#">551</a><span class="build-date">30-12-2023 11:10</span></li>
                <li><span class="status-icon failed">✖</span><a href="#">550</a><span class="build-date">29-12-2023 22:05</span></li>
                <li><span class="status-icon success">✔</span><a href="#">549</a><span class="build-date">29-12-2023 14:00</span></li>
                <li><span class="status-icon success">✔</span><a href="#">548</a><span class="build-date">28-12-2023 19:45</span></li>
              </ul>
            </div>
          </fieldset>
          <fieldset class="dashboard-block">
            <legend>Branches:</legend>
            <div class="scrollable-list">
              <ul>
                <li><a href="#">feature/new-login-screen</a></li>
                <li><a href="#">feature/refactor-payment</a></li>
                <li><a href="#">feature/add-new-product</a></li>
                <li><a href="#">bugfix/fix-cart-calculation</a></li>
                <li><a href="#">hotfix/critical-crash-on-startup</a></li>
                <li><a href="#">feature/update-dependencies</a></li>
                <li><a href="#">feature/improve-performance</a></li>
              </ul>
            </div>
          </fieldset>
        </div>
      </header>
      <section class="main-content">
        {% if page.iframe_path %}
            <iframe id="allure-frame" src="{{ page.iframe_path | relative_url }}" style="width: 100%; border: none; border-radius: 5px; height: 100%;" scrolling="yes"></iframe>
        {% endif %}
      </section>
    </div>
    <footer>
      <div class="footer-left">
        <a href="{{ site.github.repository_url }}/tree/{{ site.github.ref_name }}" target="_blank">{{ site.github.ref_name }}</a> / Build: <a href="{{ site.github.repository_url }}/actions/runs/{{ site.github.run_id }}" target="_blank">{{ site.github.run_number }}</a>
      </div>
      <div class="footer-right">
        <span><a href="https://github.com/{{ site.github.actor }}" target="_blank">@{{ site.github.actor }}</a></span>
        <span>{{ site.github.event_name }}</span>
        <span><a href="{{ site.github.repository_url }}/commit/{{ site.github.sha }}" target="_blank">{{ site.github.sha | truncate: 7, "" }}</a></span>
        <span>{{ site.time | date: "%d-%m-%Y %H:%M:%S" }}</span>
      </div>
    </footer>
  </body>
</html>